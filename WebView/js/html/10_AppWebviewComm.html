<!--
Copyright (c) Microsoft Corporation. All rights reserved
-->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Scenario 10: Communication between app and webview page</title>
    <link rel="stylesheet" href="/css/10_AppWebviewComm.css" />
    <script src="/js/10_AppWebviewComm.js"></script>
</head>
<body>
    <div data-win-control="SdkSample.ScenarioInput">
        <p>Sometimes, webpage loaded inside the webview and vice versa needs to communicate or share some object with each other. To do this, you can implement a winrt object that implements IAgileObject and send it to the webview using AddWebAllowedObject method. A new metadata attribute AllowForWeb should be specified above the class which object will be projected. This provides a security option to filter context which can be exposed to the webpage loaded inside webview. </p>
        <p>Under the Output heading below, the displayed HTML has been loaded into the WebView control. The Winrt object is a simple prime number caclulator. Enter a valid range below and then tap the "Reload" button. The webview page notifies the app whenever it finds a new prime number in the range.</p>
        <input type="number" id="startnumField" value="1"/>
        <input type="number" id="endnumField" value="100"/>
        <button id="reloadButton">Reload</button>
    </div>
    <div data-win-control="SdkSample.ScenarioOutput" id="outputContainer">
        <div id="scenario10_left">
            <textarea id="htmlString" readonly="readonly"></textarea>
        </div>
        <div id="scenario10_right">
            <textarea id="outputArea" readonly="readonly"></textarea>
        </div>
        <div id="scenario10_hidden">
            <x-ms-webview id="webview"></x-ms-webview>
        </div>
    </div>
</body>
</html>